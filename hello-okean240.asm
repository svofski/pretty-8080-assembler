        ; üêü –¥–ª—è –û–∫–µ–∞–Ω–∞-240
        ; –î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤ –º–æ–Ω–∏—Ç–æ—Ä —á–µ—Ä–µ–∑ –¥–∏—Ä–µ–∫—Ç–∏–≤—É L
        ; –ê–≤—Ç–æ—Ä: –¢–∏–º—É—Ä –¢–∞—à–ø—É–ª–∞—Ç–æ–≤, C.-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ 2018
	.hexfile okeah.hex
	.org 8000h

BANKING	equ	0c1h		; —Ä–µ–≥–∏—Å—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–∞–º–∏ –û–ó–£ –∏ –ü–ó–£
VIDEO	equ	0e1h		; —Ä–µ–≥–∏—Å—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ü–≤–µ—Ç–æ–º –∏ —Ä–µ–∂–∏–º–∞–º–∏ –≤–∏–¥–µ–æ

	mvi	a, 01
	out	BANKING		; –≤–∫–ª—é—á–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ä—à–∏—Ö 32–ö –Ω–∞ –º–ª–∞–¥—à–∏–µ

	xra	a		; –æ—á–∏—Å—Ç–∏—Ç—å –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä
	lxi	h, 4000h	; –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤ HL –∞–¥—Ä–µ—Å –Ω–∞—á–∞–ª–∞ —ç–∫—Ä–∞–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏
	mvi	d, 0		; –æ—á–∏—Å—Ç–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä D –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –Ω–∞ –æ–¥–∏–Ω –±–∞–π—Ç –∫–æ—Ä–æ—á–µ

	lxi	b, 256*32	; —ç–∫—Ä–∞–Ω –≤ "–û–∫–µ–∞–Ω–µ" —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö —Å—Ç–æ–ª–±–∏–∫–æ–≤ –ø–æ 256 –±–∞–π—Ç –≤ –∫–∞–∂–¥–æ–º
Loop:	mov	m, d		; –∑–∞–ø–æ–ª–Ω—è–µ–º —ç–∫—Ä–∞–Ω —Ç—Ä—É—Ö–æ–π
	inr	d		; –ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ —Ç—Ä–µ—Ç—å
	inx 	h		; –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ

	dcx 	b		; –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ —Å–ª–µ–¥–∏–º –∑–∞ –¥–ª–∏–Ω–æ–π —Å—Ç–æ–ª–±–∏–∫–∞
	mov	a, b		; –µ—Å–ª–∏ —Å—Ç–æ–ª–±–∏–∫ 
	ora	c		; –Ω–µ –¥–æ—Ä–∏—Å–æ–≤–∞–Ω
	jnz	Loop		; –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –ø–∏—Å–∞—Ç—å –≤ —ç–∫—Ä–∞–Ω —Ç—Ä—É—Ö—É

	lxi	h, 4100h	; —Ü–≤–µ—Ç –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –±–∏—Ç–∞–º–∏ —Å–æ—Å–µ–¥–Ω–∏—Ö —á–µ—Ä–µ–∑ 100h –±–∞–π—Ç
	mvi	a, 00h		; –ø–µ—Ä–≤—ã–π —Å—Ç–æ–ª–±–∏–∫
	call	Strip		; –æ–∫—Ä–∞—à–∏–≤–∞–µ–º –Ω—É–ª—ë–º

	lxi	h, 4300h	; –≤—Ç–æ—Ä–æ–π —Å—Ç–æ–ª–±–∏–∫
	mvi	a, 0fh		; –æ–∫—Ä–∞—à–∏–≤–∞–µ–º –≤ –¥–≤–µ –ø–æ–ª–æ—Å—ã
	call	Strip		; –¥–ª—è –∫—Ä–∞—Å–æ—Ç—ã

	lxi	h, 4500h	; —Ç—Ä–µ—Ç—å–µ –æ–∫–Ω–æ
	mvi	a, 33h		; –≤—ã—Ö–æ–¥–∏—Ç
	call	Strip		; –∫ –æ–∫–µ–∞–Ω—É

	lxi	h, 4700h	; —Ä–æ–≤–Ω—ã–º –≤–µ—Ç—Ä–æ–º
	mvi	a, 55h		; –¥—ã—à–∏—Ç
	call	Strip		; –æ–∫–µ–∞–Ω

	lxi	h, 4900h	; –∞ –∑–∞ –Ω–∏–º
	mvi	a,0ffh		; –¥–∏–∫–æ–≤–∏–Ω–Ω—ã–µ
	call	Strip		; —Å—Ç—Ä–∞–Ω—ã

				; –∏ –Ω–∏–∫—Ç–æ
				; –Ω–µ –≤–∏–¥–µ–ª
				; —ç—Ç–∏—Ö —Å—Ç—Ä–∞–Ω

	xra	a		; —ç–∫—Ä–∞–Ω —Ä–∞–∑–º–∞–ª–µ–≤–∞–Ω
	out	BANKING		; –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ –Ω–∞ –º–µ—Å—Ç–æ

Key:	inr	a		; –Ω–µ –ø—Ä–æ–ø–∞–¥–∞—Ç—å –∂–µ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä—É
	ani	3fh		; –≤–æ–∑—å–º–µ–º –∏–∑ –Ω–µ–≥–æ —Ç—Ä–∏ –º–ª–∞–¥—à–∏—Ö –±–∏—Ç–∞ –ø–µ—Ä–µ–¥–Ω–µ–≥–æ –ø–ª–∞–Ω–∞
	ori	40h		; –∏ —Ç—Ä–∏ —Å—Ç–∞—Ä—à–∏—Ö –±–∏—Ç–∞ —Ñ–æ–Ω–∞
	out	VIDEO		; –∏ –Ω–∞–º–∞–∂–µ–º –Ω–∞ –∫–∞–¥—Ä

	call	0e009h		; –ø–æ–¥–æ–∂–¥–µ–º –≤–≤–æ–¥–∞ —Å–∏–º–≤–æ–ª–∞ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
	cpi	1bh		; –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ Esc,
	jnz	Key		; –ø—Ä–æ–¥–æ–ª–∂–∏–º –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é —Ä–∞—Å–∫—Ä–∞—Å–∫—É

	jmp	0e003h		; —Ç–µ–ø–ª—ã–π —Å—Ç–∞—Ä—Ç "–ú–æ–Ω–∏—Ç–æ—Ä–∞"

Strip:	mov	m, a		; —ç—Ç–æ –ø–æ–¥–ø—Ä–æ–≥—Ä–∞–º–º–∞
	inx	h		; –Ω–µ–±—ã—Å—Ç—Ä–æ–≥–æ, –Ω–æ –≤–µ—Ä–Ω–æ–≥–æ
	dcr	d		; —Ä–∏—Å–æ–≤–∞–Ω–∏—è —Å—Ç–æ–ª–±–∏–∫–∞
	jnz	Strip		; —Å –∑–∞–¥–∞–Ω–Ω–æ—é –¥–ª–∏–Ω–æ—é

	ret			; –ö –û –ù –ï –¶
