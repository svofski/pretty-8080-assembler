<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru">
<head>
<!-- revision
Rev.L: Worker + Base64
-->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Pretty 8080 Assembler</title>
<script type="text/javascript" src="140medley.min.js"></script>
<script type="text/javascript" src="encodings.js"></script>
<script type="text/javascript" src="util.js"></script>
<script type="text/javascript" src="makewav.js"></script>
<script type="text/javascript" src="tape.js"></script>
<script type="text/javascript" src="main.js"></script>
<script src="jszip.min.js" type="text/javascript" charset="utf-8"></script>
<script src="FileSaver.min.js" type="text/javascript" charset="utf-8"></script>
<script src="asc2bas.js" type="text/javascript" charset="utf-8"></script>
<script src="ace-local/ace1.32.3.js" type="text/javascript" charset="utf-8"></script>
<script src="ace-local/keybinding-vim.min.js" type="text/javascript" charset="utf-8"></script>
<script src="ace-hook.js" type="text/javascript" charset="utf-8"></script>
<script src="ide.js" type="text/javascript" charset="utf-8"></script>
<script src="cpp.js/cpp.js" type="text/javascript" charset="utf-8"></script>
<script src="emu80int.js" type="text/javascript" charset="utf-8"></script>
<script src="i8080_disasm.js" type="text/javascript" charset="utf-8"></script>
<script src="vscroll.js" type="text/javascript" charset="utf-8"></script>
<link href="list-online.css" rel="stylesheet" type="text/css" media="screen"/>
<link href="ace-extras.css" rel="stylesheet" type="text/css" media="screen"/>
<link
<!-- styleSheets[1] -->
<style type="text/css">
.rga { color: blue; }
.rgb { color: blue; }
.rgc { color: blue; }
.rgd { color: blue; }
.rge { color: blue; }
.rgh { color: blue; }
.rgl { color: blue; }
.rgm { color: blue; }
.rgsp { color: blue; }
.rpb { color: blue; }
.rpd { color: blue; }
.rph { color: blue; }
.rpsp { color: blue; }
</style>

</head>
<body id='main' onload="loaded(); return false;">

<div id="tabContextMenu" class="context-menu">
  <div class="menu-item" data-action="rename">Rename</div>
  <div class="menu-item" data-action="random-color">Random color</div>
  <div class="menu-item" data-action="close">Delete</div>
</div>

<div id="shawarmaMenu" class="context-menu">
    <div id="menu-toggle-vim" class="menu-item checked" data-action="toggle-vim">vim keys</div>
    <div class="menu-item separator"></div>
</div>

<div id="toolbar" 
onclick="scrollBack(); return false;"
onmouseover="magicToolbar(0); return false;"
onmouseout="magicToolbar(2); return false;"
>
&#x25c0;
</div>

<div id="header" onmouseover="magicToolbar(0); return false;" onmouseout="magicToolbar(2); return false;">
  <div id="tabbar" class="tabbar">
      <div class="toolbar-btn">test.asm</div>
  </div>
  <span class="spacer"></span>
      <div id="right-tabbar" class="tabbar">
      <div class="tab" id="tab-resources" title="resources" style="--tab-bg:#456;--tab-bg-full:#654;--tab-z:200">
          <span class="resources-icon">üóÑ</span> </div>
      </div>
      <div id="header-link"><a id="header-text" href="https://github.com/svofski/pretty-8080-assembler" target=_>
    –ü—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –∞—Å—Å–µ–º–±–ª–µ—Ä –ö–†580–í–ú80–ê</a>
          <div id="stats" class="" onclick="gotoError(); return false;" 
                                   title="">0 errors</div>
      </div>

</div>

<div id="textinput">

<div id="ta"> 
<pre id="source">
        ; üêü  (try me)
        ; 8080 assembler code
        .project test.com
        .tape v06c-rom
        ; target for generated loadable wav-file:
        ;   rk-bin          –†–∞–¥–∏–æ-86–†–ö 
        ;   microsha-bin    –ú–∏–∫—Ä–æ—à–∞
        ;   v06c-rom        –í–µ–∫—Ç–æ—Ä-06—Ü ROM
bdos    equ 5
intv    equ 38h
        .org 100h
        jmp begin
        db 27
msg:
        db 'Assembled by Pretty 8080 Assembler',0dh,0ah,'$'
yeah: 	; large binary strings can be defined using base64
        db64 TG9uZyBiaW5hcnkgaW5pdGlhbGl6YXRpb24gc2VjdGlvbnMgY2FuIGJlIGRlZmluZWQgdXNpbmcgYmFzZTY0LWVuY29kZWQgc3RyaW5ncyENCiQ=
begin:
        lxi d, msg
        mvi c, 9
        call bdos
        call delay
        mvi c, 9
        lxi d, yeah
        call bdos
        ret

delay:
        mvi a, 33
        hlt
        dcr a
        jnz .-2
        ret
</pre>
</div>
<div id="emulator">
        <div id="emulator-box">
            <header id="emulator-controls">
                <div id="ruslat">&#8226;</div>
                <div id="emu-help">–°–°: Shift &nbsp;&nbsp;  –£–°: Ctrl &nbsp;&nbsp; –†–£–°/LAT: F6 &nbsp;&nbsp; –ë–õ–ö+–í–í–û–î: F11 &nbsp;&nbsp; –ë–õ–ö+–°–ë–†: F12</div>
                <div class="spacer">&nbsp;</div>
                <div id="emu-version">version</div>
                <div id="dock-emu-btn">
                    <div id="dock-emu-btn-box">
<svg id="U1F532" viewBox="0 0 2448 2448" width="10" height="10"><path transform="translate(40, 1900) scale(0.9,-0.9)" d="M734 81L734 81L1866 81Q1892 81 1909 98.50Q1926 116 1926 141L1926 141L1926 1259Q1926 1284 1909 1301.50Q1892 1319 1866 1319L1866 1319L734 1319Q709 1319 691.50 1301.50Q674 1284 674 1259L674 1259L674 141Q674 116 691.50 98.50Q709 81 734 81ZM2175-350L426-350Q354-350 302-298.50Q250-247 250-176L250-176L250 1575Q250 1647 301.50 1698.50Q353 1750 425 1750L425 1750L2175 1750Q2247 1750 2298.50 1698.50Q2350 1647 2350 1575L2350 1575L2350-175Q2350-247 2298.50-298.50Q2247-350 2175-350L2175-350Z" fill="currentColor"></path></svg>
                    </div>
                    <div id="dock-emu-btn-arrow"> 
                        <svg viewBox="0 0 1033 1000" width="10" height="10">
                            <path d="M982 362L401 -101L401 127L51 127L51 595L401 595L401 825L982 362Z"
                                  transform="translate(0,900) scale(1,-1)"
                                  fill="currentColor"/>
                        </svg>
                    </div> <!--   -->
                </div>
                <div id="close">
                    <svg id="close-icon" viewBox="0 0 2048 2048" width="10" height="10"><path fill="currentColor" transform="translate(-280, 1700.2) scale(1,-1)" d="M488-300L488-300Q403-300 341-240L341-240Q310-210 295-172Q280-134 280-94L280-94Q280-9 353 61L353 61L1010 700L353 1339Q280 1409 280 1494L280 1494Q280 1534 295 1572Q310 1610 341 1640L341 1640Q403 1700 488 1700L488 1700Q570 1700 648 1625L648 1625L1300 993L1952 1625Q2030 1700 2112 1700L2112 1700Q2197 1700 2259 1640L2259 1640Q2290 1610 2305 1572Q2320 1534 2320 1494L2320 1494Q2320 1409 2247 1339L2247 1339L1590 700L2247 61Q2320-9 2320-94L2320-94Q2320-134 2305-172Q2290-210 2259-240L2259-240Q2197-300 2112-300L2112-300Q2030-300 1952-225L1952-225L1300 407L648-225Q570-300 488-300Z"></path></svg>
                </div>
            </header>
            <div id="emulator-container"></div>
            <footer id="debugger-controls" class="hidden">
                &nbsp;
                <div id="dbg-pause-btn"       debug_subcmd="pause"       title="Run/stop">‚èØ</div>
                <div id="dbg-step-over-btn"   debug_subcmd="step-over"   title="Step over">‚Ü∑</div>
                <div id="dbg-step-in-btn"     debug_subcmd="step-in"     title="Step in">‚Ü¥</div>
                <div id="dbg-step-out-btn"    debug_subcmd="step-out"    title="Step out">‚Ü±</div>
            </footer>
        </div>
    <div id="debugger-sheet" class="hidden">
        <div id="dbg-row1">
<div id="dbg-code">
</div>
<div id="dbg-registers">AF=0000
BC=0000
DE=0000
HL=0000
SP=0000
PC=0000
</div>
<div id="dbg-psw">  C = 0
  Z = 0
  P = 0
  S = 0
 AC = 0
IFF = 0
</div>
<div id="dbg-stack">SP   : 0000
SP+02: 0000
SP+04: 0000
SP+06: 0000
SP+08: 0000
SP+0A: 0000
SP+0C: 0000
SP+0E: 0000
</div>
<div id="dbg-breakpoints">0000
</div>
</div>
<div id="dbg-mem-header">      .0 .1 .2 .3 .4 .5 .6 .7 .8 .9 .A .B .C .D .E .F    0123456789ABCDEF</div><div id="dbg-mem" class="scroller-container"><div class="scroller-phantom"></div><div class="scroller-items"></div></div>
<!--input id="overlay" class="hidden"-->
  </div>
</div>
</div>
<!--
<div id="messagepane">
</div>
<div style="height:0.5ex"><br/></div>
<div id="buttbr" class="hordiv"></div>
-->
<div id="buttons-below">
<input type="text" id="hex" name="hex" style="display:none;"/>
<input type="text" id="formbinname" name="formbinname" style="display:none;"/>
<input type="text" id="formhexname" name="formhexname" style="display:none;"/>
<input type="text" id="downloadformat" name="downloadformat" style="display:none;"/>

<div class="baton" id="dl-bin">BIN</div>
<div class="baton" id="dl-hex">HEX</div>
<div class="baton" id="dl-tape">TAPE</div>
<div class="baton" id="run" title="Launch Vector-06c emulator (Ctrl+Alt+B)">RUN</div>
<div class="baton" id="sounds">WAV&nbsp;&nbsp;
    <span id="wav-dl" title="Download WAV">‚¨á</span>&nbsp;&nbsp;&nbsp;<span id="wav-play" title="Play WAV">‚ñ∂</span>&nbsp;&nbsp;&nbsp;
    <span class="bobinage-icon">
        <span id="wav-emu" title="Load in emulator as tape"><span class="reel">‚ò¢</span><span class="bobinage-mid">_</span><span class="reel">‚ò¢</span>üñ≥</span></span>
</div>

<span class="spacer"> </span>

<div class="baton project" onclick="exportProject()">Export ZIP</div>
<input type="file" id="importInput" style="display:none" onchange="importProject(this.files)">
<div class="baton project" onclick="document.getElementById('importInput').click()">Import ZIP</div>
<div class="baton project" onclick="defaultProject()"><span class="baton-icon">&#128196;</span><span class="baton-text">New</span></div>

</div>




<script>
    //AceHook();
    //IdeStart();
</script>

</body>
</html>
