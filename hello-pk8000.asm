    ; üêü –¥–ª—è –ü–ö-8000 (–°—É—Ä–∞, –•–æ–±–±–∏, –í–µ—Å—Ç–∞)
    .project pk8000hello.cas
    .tape pk8000-cas  ; —Ñ–æ—Ä–º–∞—Ç –ü–ö-8000


    .org 4000h

    ; —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–∏–¥–µ–æ—Ä–µ–∂–∏–º
    mvi     A, 1
    call    6Ah                     ; —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–∏–¥–µ–æ—Ä–µ–∂–∏–º–∞ 1 (32x24, 15 —Ü–≤–µ—Ç–æ–≤)
    mvi     A, 32
    call    0AAh                    ; —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ª–æ–≥–∏—á–µ—Å–∫—É—é —à–∏—Ä–∏–Ω—É —ç–∫—Ä–∞–Ω–∞ –≤ 32 —Å–∏–º–≤–æ–ª–∞ (–ø–æ –¥–µ—Ñ–æ–ª—Ç—É - 28)
    call    0A4h                    ; —É–±–∏—Ä–∞–µ–º –Ω–∏–∂–Ω—é—é —Å—Ç—Ä–æ–∫—É –∫–ª—é—á–µ–π-–ø–æ–¥—Å–∫–∞–∑–æ–∫

    ; –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Ü–≤–µ—Ç
    lxi     H, 0FA24h               ; —Ü–≤–µ—Ç —Ç–æ—á–∫–∏
    mvi     M, 10                   ; –∂–µ–ª—Ç—ã–π
    inx     H                       ; —Ü–≤–µ—Ç —Ñ–æ–Ω–∞
    mvi     M, 4                    ; —Å–∏–Ω–∏–π
    inx     H                       ; —Ü–≤–µ—Ç —Ä–∞–º–∫–∏
    mvi     M, 12                   ; —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π
    call    44h

    ; –≤—ã–≤–æ–¥–∏–º —Ç–µ–∫—Å—Ç –≤ —Ü–µ–Ω—Ç—Ä —ç–∫—Ä–∞–Ω–∞
    mvi     D, 12                   ; —Å—Ç—Ä–æ–∫–∞ –∫—É—Ä—Å–æ—Ä–∞
    mvi     E, (32-str_size)/2      ; —Å—Ç–æ–ª–±–µ—Ü –∫—É—Ä—Å–æ—Ä–∞ = (screen width - strlen(str)) / 2
    mvi     A, 1 | 2 | 4            ; bit 0: —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫—É—Ä—Å–æ—Ä–∞ (DE)
                                    ; bit 1: –≤—ã–≤–æ–¥ asciiz-—Å—Ç—Ä–æ–∫–∏ –Ω–∞ —ç–∫—Ä–∞–Ω
                                    ; bit 2: –≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞
    lxi     H, str                  ; asciiz-—Å—Ç—Ä–æ–∫–∞
    call    50h                     ; –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ—á–µ—Ä–µ–¥–Ω–æ, –æ—Ç –Ω—É–ª–µ–≤–æ–≥–æ –±–∏—Ç–∞ –¥–æ 7-–≥–æ,
                                    ; —Ç.–µ. —Å–Ω–∞—á–∞–ª–∞ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç—Å—è –∫—É—Ä—Å–æ—Ä, –∑–∞—Ç–µ–º –≤—ã–≤–æ–¥–∏—Ç—Å—è —Ç–µ–∫—Å—Ç,
                                    ; –∏ –≤ –ø–æ—Å–ª–µ–¥–Ω—é –æ—á–µ—Ä–µ–¥—å –≤–≤–æ–¥–∏—Ç—Å—è —Å—Ç—Ä–æ–∫–∞ –≤ –±—É—Ñ–µ—Ä.

    ; –∂–¥–µ–º –Ω–∞–∂–∞—Ç–∏—è –ª—é–±–æ–π –∫–ª–∞–≤–∏—à–∏ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–º–ø
    jmp     0


str:
    db 'Hello world!',0

str_size equ $-str-1

    end
